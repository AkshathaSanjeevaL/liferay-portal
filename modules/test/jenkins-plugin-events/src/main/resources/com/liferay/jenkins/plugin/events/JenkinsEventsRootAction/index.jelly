<?jelly escape-by-default="true"?>

<j:jelly xmlns:f="/lib/form" xmlns:j="jelly:core" xmlns:l="/lib/layout">
	<l:layout>
		<l:side-panel>
			<l:tasks>
				<l:task href="${rootURL}/" icon="icon-md icon-up" title="Back to Dashboard" />
			</l:tasks>
		</l:side-panel>
		<l:main-panel>
			<div>
				<div>
					<h2>Jenkins Events</h2>
					<p>The specified events occur, a POST wil be made the specified URLs provided.</p>
				</div>
				<f:form method="post" name="jenkinsEventsConfiguration" action="jenkinsEventsConfiguration">
					<f:entry>
						<f:repeatable var="jenkinsWebHooks" items="${it.jenkinsWebHooks}">
							<h3>Jenkins WebHook</h3>
							<f:entry>
								<div align="right">
									<f:repeatableDeleteButton />
								</div>
							</f:entry>
							<f:entry title="URL">
								<f:textbox name="url" value="${jenkinsWebHooks.url}" />
							</f:entry>
							<f:advanced title="Event Configurations">
								<f:section title="Build Events">
									<f:entry title="BUILD_COMPLETED">
										<f:checkbox name="buildCompleted" value="${jenkinsWebHooks.buildCompleted}" checked="${jenkinsWebHooks.buildCompleted}" />
									</f:entry>
									<f:entry title="BUILD_STARTED">
										<f:checkbox name="buildStarted" value="${jenkinsWebHooks.buildStarted}" checked="${jenkinsWebHooks.buildStarted}" />
									</f:entry>
								</f:section>
							</f:advanced>
						</f:repeatable>
					</f:entry>
					<f:entry>
						<f:submit value="Save" />
					</f:entry>
				</f:form>
			</div>
		</l:main-panel>
	</l:layout>
</j:jelly>