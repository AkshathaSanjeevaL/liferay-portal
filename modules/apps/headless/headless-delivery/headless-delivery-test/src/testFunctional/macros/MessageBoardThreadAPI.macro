definition {

	macro _curlMessageBoardThread {
		var portalURL = JSONCompany.getPortalURL();

		if (isSet(headline)) {
			if (isSet(messageBoardSectionId)) {
				var api = "message-board-sections/${messageBoardSectionId}";
			}
			else {
				var siteId = JSONGroupAPI._getGroupIdByNameNoSelenium(
					groupName = "Guest",
					site = "true");

				var api = "sites/${siteId}";
			}

			var command = '''
					-u test@liferay.com:test \
					-H Content-Type: application/json \
					-d {
						"headline": "${headline}"
					}
			''';

			var curl = StringUtil.add("${portalURL}/o/headless-delivery/v1.0/${api}/message-board-threads", "\ ${command}", "");
		}
		else {
			var curl = '''
				${portalURL}/o/headless-delivery/v1.0/message-board-threads/${messageBoardThreadId} \
					-u test@liferay.com:test \
					-H Content-Type: application/json
			''';
		}

		return ${curl};
	}

	macro createMessageThreadInMessageBoardSection {
		Variables.assertDefined(parameterList = "${headline},${messageBoardSectionId}");

		var curl = MessageBoardThreadAPI._curlMessageBoardThread(
			headline = ${headline},
			messageBoardSectionId = ${messageBoardSectionId});

		var response = JSONCurlUtil.post(${curl});

		return ${response};
	}

	macro deleteMessageBoardThreadByThreadId {
		Variables.assertDefined(parameterList = ${messageBoardThreadId});

		var curl = MessageBoardThreadAPI._curlMessageBoardThread(messageBoardThreadId = ${messageBoardThreadId});

		JSONCurlUtil.delete(${curl});
	}

	macro setUpGlobalMessageBoardThreadId {
		Variables.assertDefined(parameterList = ${headline});

		var curl = MessageBoardThreadAPI._curlMessageBoardThread(headline = ${headline});

		var messageBoardThreadId = JSONCurlUtil.post(${curl}, "$.['id']");

		static var staticMbThreadId = ${messageBoardThreadId};

		return ${staticMbThreadId};
	}

}