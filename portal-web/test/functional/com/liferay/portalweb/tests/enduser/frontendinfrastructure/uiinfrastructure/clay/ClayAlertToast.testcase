definition {

	property portal.release = "true";
	property portal.upstream = "true";
	property testray.component.names = "Clay";
	property testray.main.component.name = "User Interface";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();

		JSONLayout.addPublicLayout(
			groupName = "Guest",
			layoutName = "Clay Page");

		JSONLayout.addWidgetToPublicLayout(
			groupName = "Guest",
			layoutName = "Clay Page",
			widgetName = "Clay Sample");

		Navigator.gotoPage(pageName = "Clay Page");
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			JSONLayout.deletePublicLayout(
				groupName = "Guest",
				layoutName = "Clay Page");
		}
	}

	@description = "LPS-170578 Validate alert toast message does not disapear when mouse hovers over it."
	@priority = "5"
	test DoesNotDisappearWhenHoveredOver {
		property portal.acceptance = "true";

		task ("When a toast alert appears") {
			WaitForElementPresent(
				key_text = "Fail Submit",
				locator1 = "Button#ANY");

			Click(
				key_text = "Fail Submit",
				locator1 = "Button#ANY");
		}

		task ("And user mouses over the alert") {
			MouseOver(locator1 = "Message#ERROR_DISMISSIBLE");
		}

		task ("Then the alert does not disappear when hovered over") {

			// For LPS-170578, need this pause to wait longer than the auto close time of the fail message

			Pause(locator1 = "20100");

			AssertElementPresent(locator1 = "Message#ERROR_DISMISSIBLE");
		}
	}

}